<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rain Drop Collector</title>

  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>
</head>

<body>
  <div id="game">

    <div class="background-wrapper">
      <svg viewBox="0 0 800 600" width="100%" height="100%" preserveAspectRatio="xMidYMid slice"
        xmlns="http://www.w3.org/2000/svg" style="position: absolute; top: 0; left: 0; z-index: 0;">
        <!-- SKY GRADIENT -->
        <defs>
          <linearGradient id="skyGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#0a75bc" />
            <stop offset="100%" stop-color="#e0f7ff" />
          </linearGradient>
          <linearGradient id="sunGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#FFD700" />
            <stop offset="100%" stop-color="#FFB300" />
          </linearGradient>
        </defs>

        <!-- SKY -->
        <rect width="800" height="600" fill="url(#skyGradient)" />

        <!-- SUN -->
        <circle cx="100" cy="100" r="60" fill="url(#sunGradient)" opacity="0.9" />

        <!-- CLOUDS -->
        <g fill="#fff" opacity="0.8">
          <ellipse cx="200" cy="100" rx="50" ry="20" />
          <ellipse cx="230" cy="90" rx="40" ry="25" />
          <ellipse cx="260" cy="100" rx="50" ry="20" />

          <ellipse cx="600" cy="150" rx="60" ry="25" />
          <ellipse cx="640" cy="140" rx="50" ry="30" />
          <ellipse cx="680" cy="150" rx="60" ry="25" />
        </g>

        <!-- MOUNTAINS -->
        <path d="M0 400 
       L150 250 
       L300 400 
       L400 300 
       L500 400 
       L650 270 
       L800 400 
       L800 600 
       L0 600 Z" fill="#8bb3c7" />

        <!-- SNOW CAPS -->
        <path d="M138 265 L150 250 L162 265 L150 260 Z" fill="#ffffff" />
        <path d="M388 315 L400 300 L412 315 L400 310 Z" fill="#ffffff" />
        <path d="M638 285 L650 270 L662 285 L650 280 Z" fill="#ffffff" />

        <!-- Hill 1 - Left side -->
        <path d="M0 500 
       Q150 400 300 500 
       T600 500 
       L800 600 
       L0 600 Z" fill="#b5e3b5" />

        <!-- Hill 2 - Center overlapping -->
        <path d="M100 520 
       Q300 420 500 520 
       T800 520 
       L800 600 
       L100 600 Z" fill="#91c88e" opacity="0.9" />

        <!-- Hill 3 - Foreground hill -->
        <path d="M0 540 
       Q250 460 500 540 
       T800 540 
       L800 600 
       L0 600 Z" fill="#6dab6d" opacity="1" />

        <!-- FOREGROUND GROUND -->
        <rect y="580" width="800" height="20" fill="#4b2e1e" />
      </svg>

      <div class="dim-overlay"></div>
    </div>

    <img class="jerry" id="jerry" src="img/water-can-transparent.png"></img>

    <div id="timer">Time: 30</div>
    <div id="time-floaters"></div>

    <div id="start-overlay" class="game-overlay">
      <div class="overlay-content">
        <img src="img/cw_logo.png" alt="Charity Water Logo" style="width:80px; margin-bottom:1em;">
        <h1>Rain Drop Collector</h1>
        <p>Help <b>Jerry</b> collect clean water!<br>
        Use the <b>left</b> and <b>right</b> arrow keys to move Jerry.<br>
        <!-- Catch <b style="color:#2196f3">blue</b> drops and avoid <b style="color:#e74c3c">red</b> ones.<br> -->
      Reach 300 seconds to win!</p>
        <div style="margin:1em 0 1em 0; text-align:left; font-size:1em;">
          <b>Special Drops:</b>
          <ul style="margin:0 0 0 1.2em;">
            <li><span style="color:#FFD700; font-weight:bold;">Golden</span>: +20 seconds</li>
            <li><span style="color:#00e6e6; font-weight:bold;">Slow-mo</span>: Slows all drops</li>
            <li><span style="color:#aaff00; font-weight:bold;">Shield</span>: Temporary immunity to toxic drops</li>
            <li><span style="color:#b266ff; font-weight:bold;">Double</span>: Double points for clean drops</li>
            <li><span style="color:#ff6600; font-weight:bold;">Speed Up</span>: All drops fall faster</li>
            <li><span style="color:#ff00aa; font-weight:bold;">Reverse</span>: Controls are reversed</li>
            <li><span style="color:#222; font-weight:bold;">Blind</span>: Screen dims briefly</li>
          </ul>
        </div>
        <div style="margin-bottom:1em;">
          <label for="difficulty-select"><b>Difficulty:</b></label>
          <select id="difficulty-select">
            <option value="easy">Easy</option>
            <option value="normal" selected>Normal</option>
            <option value="hard">Hard</option>
          </select>
        </div>
        <button id="start-btn">Start Game</button>
        <div class="cw-link"><a href="https://www.charitywater.org/" target="_blank">Support Charity: Water</a></div>
      </div>
    </div>
    <div id="lose-overlay" class="game-overlay">
      <div class="overlay-content">
        <h1>Time's Up!</h1>
        <p>Great effort helping Jerry!<br>Try again and see if you can reach 300 seconds for a win!</p>
        <button id="restart-btn">Play Again</button>
        <div class="cw-link"><a href="https://www.charitywater.org/" target="_blank">Support Charity: Water</a></div>
      </div>
    </div>
    <div id="win-overlay" class="game-overlay">
      <div class="overlay-content">
        <h1>You Win!</h1>
        <p>You kept the water flowing for Jerry!<br>Thank you for helping Charity: Water.</p>
        <button id="playagain-btn">Play Again</button>
        <div class="cw-link"><a href="https://www.charitywater.org/" target="_blank">Support Charity: Water</a></div>
      </div>
    </div>
  </div>
</body>

</html>